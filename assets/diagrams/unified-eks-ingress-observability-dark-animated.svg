<svg width="1200" height="700" viewBox="0 0 1200 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#020617"/>
      <stop offset="100%" stop-color="#020617"/>
    </linearGradient>

    <marker id="arrow" markerWidth="12" markerHeight="12" refX="6" refY="3" orient="auto">
      <path d="M0,0 L12,3 L0,6" fill="#38BDF8"/>
    </marker>

    <style><![CDATA[
      text {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      }

      .section-label {
        fill: #9CA3AF;
        font-size: 13px;
        letter-spacing: 0.08em;
        text-transform: uppercase;
      }

      .badge {
        font-size: 11px;
        fill: #E5E7EB;
      }

      .flow-line {
        stroke-width: 4;
        stroke-linecap: round;
        stroke-dasharray: 16 12;
      }
      .flow-client     { stroke: #38BDF8; animation: flowClient 3s linear infinite; }
      .flow-edge       { stroke: #22D3EE; animation: flowEdge 3.1s linear infinite; }
      .flow-ingress    { stroke: #A855F7; animation: flowIngress 2.8s linear infinite; }
      .flow-service    { stroke: #22C55E; animation: flowService 3.3s linear infinite; }
      .flow-obs        { stroke: #FCD34D; animation: flowObs 3.4s linear infinite; }

      @keyframes flowClient  { to { stroke-dashoffset: -56; } }
      @keyframes flowEdge    { to { stroke-dashoffset: -56; } }
      @keyframes flowIngress { to { stroke-dashoffset: -56; } }
      @keyframes flowService { to { stroke-dashoffset: -56; } }
      @keyframes flowObs     { to { stroke-dashoffset: -56; } }

      .cp-core {
        animation: cpPulse 3.2s ease-in-out infinite;
        transform-box: fill-box;
        transform-origin: center;
      }
      .cp-ring {
        animation: cpRing 3.2s ease-out infinite;
        transform-box: fill-box;
        transform-origin: center;
      }
      @keyframes cpPulse {
        0%   { transform: scale(1);    opacity: 1;   }
        50%  { transform: scale(1.05); opacity: 1;   }
        100% { transform: scale(1);    opacity: 1;   }
      }
      @keyframes cpRing {
        0%   { r: 38; opacity: 0.35; }
        50%  { r: 50; opacity: 0.0;  }
        100% { r: 38; opacity: 0.0;  }
      }

      .node-pulse {
        animation: nodePulse 4.2s ease-in-out infinite;
        transform-box: fill-box;
        transform-origin: center;
      }
      @keyframes nodePulse {
        0%   { transform: scale(1);   opacity: 0.9; }
        40%  { transform: scale(1.03);opacity: 1.0; }
        100% { transform: scale(1);   opacity: 0.9; }
      }

      .cluster-sweep {
        animation: sweep 8s linear infinite;
        opacity: 0.14;
      }
      @keyframes sweep {
        0%   { transform: translateX(-320px); }
        100% { transform: translateX(320px);  }
      }

      .edge-glow {
        animation: edgeGlow 4s ease-in-out infinite;
      }
      @keyframes edgeGlow {
        0%   { filter: drop-shadow(0 0 0px rgba(56,189,248,0)); }
        50%  { filter: drop-shadow(0 0 10px rgba(56,189,248,0.7)); }
        100% { filter: drop-shadow(0 0 0px rgba(56,189,248,0)); }
      }

      .obs-pulse {
        animation: obsPulse 4.5s ease-in-out infinite;
        transform-box: fill-box;
        transform-origin: center;
      }
      @keyframes obsPulse {
        0%   { transform: scale(1);   opacity: 0.9; }
        50%  { transform: scale(1.04);opacity: 1.0; }
        100% { transform: scale(1);   opacity: 0.9; }
      }
    ]]></style>
  </defs>

  <!-- Background -->
  <rect width="1200" height="700" fill="url(#bg)"/>

  <!-- Title / Subtitle -->
  <text x="40" y="54" fill="#F9FAFB" font-size="30" font-weight="600">
    Unified EKS Platform: Ingress · Workloads · Observability
  </text>
  <text x="42" y="80" fill="#6B7280" font-size="14">
    External traffic → Edge → NGINX Ingress → EKS Nodegroups → Services → Observability
  </text>

  <!-- LEGEND (top-right) -->
  <g>
    <text x="950" y="52" fill="#9CA3AF" font-size="12" font-weight="500">Legend</text>

    <line x1="950" y1="68" x2="970" y2="68" class="flow-line flow-client"/>
    <text x="978" y="72" fill="#9CA3AF" font-size="11">Client &amp; Edge Traffic</text>

    <line x1="950" y1="88" x2="970" y2="88" class="flow-line flow-ingress"/>
    <text x="978" y="92" fill="#9CA3AF" font-size="11">Ingress → Services (L7)</text>

    <line x1="950" y1="108" x2="970" y2="108" class="flow-line flow-obs"/>
    <text x="978" y="112" fill="#9CA3AF" font-size="11">Metrics / Logs / Traces</text>
  </g>

  <!-- LEFT COLUMN: CLIENTS + EDGE -->
  <!-- External Clients -->
  <g>
    <rect x="40" y="150" width="210" height="120" rx="14"
          fill="#020617" stroke="#38BDF8" stroke-width="2.5"/>
    <text x="60" y="182" fill="#F9FAFB" font-size="16" font-weight="500">
      External Clients
    </text>
    <text x="60" y="205" fill="#9CA3AF" font-size="12">
      Browsers · Mobile · API Consumers
    </text>
  </g>

  <!-- DNS / Edge -->
  <g class="edge-glow">
    <rect x="280" y="150" width="210" height="120" rx="14"
          fill="#020617" stroke="#22D3EE" stroke-width="2.5"/>
    <text x="300" y="180" fill="#F9FAFB" font-size="15" font-weight="500">
      DNS / Edge / WAF
    </text>
    <text x="300" y="200" fill="#9CA3AF" font-size="12">
      DNS · Anycast · CDN · WAF
    </text>
    <text x="300" y="220" fill="#9CA3AF" font-size="12">
      Rate limiting · Bot Defense
    </text>
  </g>

  <!-- Client -> Edge -->
  <line x1="250" y1="210" x2="280" y2="210"
        class="flow-line flow-client" marker-end="url(#arrow)"/>

  <!-- Cloud Load Balancer -->
  <g>
    <rect x="520" y="150" width="210" height="120" rx="14"
          fill="#020617" stroke="#38BDF8" stroke-width="2.5"/>
    <text x="540" y="182" fill="#F9FAFB" font-size="15" font-weight="500">
      Cloud Load Balancer
    </text>
    <text x="540" y="204" fill="#9CA3AF" font-size="12">
      AWS ALB / NLB (L4/L7)
    </text>
    <text x="540" y="224" fill="#9CA3AF" font-size="12">
      TLS offload · health checks
    </text>
  </g>

  <!-- Edge -> Cloud LB -->
  <line x1="490" y1="210" x2="520" y2="210"
        class="flow-line flow-edge" marker-end="url(#arrow)"/>

  <!-- CLUSTER ENVELOPE (center) -->
  <g>
    <rect x="260" y="300" width="640" height="340" rx="20"
          fill="none" stroke="#1F2933" stroke-width="2"/>
    <text x="276" y="322" class="section-label">aws eks cluster</text>

    <!-- Sweep highlight -->
    <g class="cluster-sweep">
      <rect x="280" y="330" width="220" height="290" fill="#38BDF8"/>
    </g>
  </g>

  <!-- CONTROL PLANE (top inside cluster) -->
  <g>
    <rect x="320" y="340" width="220" height="130" rx="14"
          fill="#020617" stroke="#6EE7B7" stroke-width="2.5"/>
    <text x="338" y="368" fill="#F9FAFB" font-size="15" font-weight="500">
      EKS Control Plane
    </text>
    <text x="338" y="388" fill="#9CA3AF" font-size="12">
      API Server · etcd · Scheduler
    </text>

    <circle cx="430" cy="420" r="22" fill="#022C22"
            stroke="#6EE7B7" stroke-width="2" class="cp-core"/>
    <circle cx="430" cy="420" r="38" fill="none"
            stroke="#6EE7B7" stroke-width="2" class="cp-ring"/>
    <text x="422" y="424" fill="#A7F3D0" font-size="12" font-weight="600">API</text>
  </g>

  <!-- CLUSTER ADD-ONS (top-right inside cluster) -->
  <g>
    <rect x="560" y="340" width="320" height="130" rx="14"
          fill="#020617" stroke="#4B5563" stroke-width="1.8"/>
    <text x="578" y="366" fill="#E5E7EB" font-size="14" font-weight="500">
      Cluster Add-ons
    </text>

    <text x="578" y="388" class="badge">CNI (Cilium / VPC)</text>
    <text x="578" y="406" class="badge">CSI · Metrics Server · Cluster Autoscaler</text>
    <text x="578" y="424" class="badge">Nginx Ingress Controller (KIC)</text>
  </g>

  <!-- FROM CLOUD LB INTO INGRESS (inside cluster) -->
  <!-- Ingress Block (middle inside cluster) -->
  <g>
    <rect x="320" y="500" width="220" height="120" rx="14"
          fill="#020617" stroke="#5FB3B3" stroke-width="2.5"/>
    <text x="338" y="528" fill="#F9FAFB" font-size="15" font-weight="500">
      Ingress &amp; L7 Routing
    </text>
    <text x="338" y="548" fill="#9CA3AF" font-size="12">
      Nginx Ingress Controller
    </text>
    <text x="338" y="568" fill="#9CA3AF" font-size="11">
      TLS termination · host / path routing
    </text>
  </g>

  <!-- Cloud LB -> Ingress -->
  <line x1="625" y1="270" x2="430" y2="500"
        class="flow-line flow-ingress" marker-end="url(#arrow)"/>

  <!-- NODEGROUPS + SERVICES (right side inside cluster) -->
  <!-- System Nodegroup -->
  <g class="node-pulse">
    <rect x="560" y="500" width="180" height="60" rx="10"
          fill="#020617" stroke="#22D3EE" stroke-width="2"/>
    <text x="572" y="524" fill="#E5E7EB" font-size="13">System Nodegroup</text>
    <text x="572" y="542" fill="#9CA3AF" font-size="11">Core add-ons · Daemons</text>
  </g>

  <!-- App Nodegroup -->
  <g class="node-pulse" style="animation-delay: .4s;">
    <rect x="560" y="570" width="180" height="60" rx="10"
          fill="#020617" stroke="#A855F7" stroke-width="2"/>
    <text x="572" y="594" fill="#E5E7EB" font-size="13">App Nodegroup</text>
    <text x="572" y="612" fill="#9CA3AF" font-size="11">Workloads · Services</text>
  </g>

  <!-- Services -->
  <g class="node-pulse" style="animation-delay: .8s;">
    <rect x="770" y="500" width="130" height="45" rx="10"
          fill="#020617" stroke="#22C55E" stroke-width="1.8"/>
    <text x="784" y="527" fill="#DCFCE7" font-size="12">Service A</text>
  </g>

  <g class="node-pulse" style="animation-delay: 1.1s;">
    <rect x="770" y="555" width="130" height="45" rx="10"
          fill="#020617" stroke="#F97316" stroke-width="1.8"/>
    <text x="784" y="582" fill="#FFEDD5" font-size="12">Service B</text>
  </g>

  <!-- Ingress -> Nodegroups / Services -->
  <line x1="540" y1="530" x2="560" y2="530"
        class="flow-line flow-ingress" marker-end="url(#arrow)"/>
  <line x1="540" y1="590" x2="560" y2="600"
        class="flow-line flow-service" marker-end="url(#arrow)"/>

  <!-- Nodegroups -> Services -->
  <line x1="740" y1="530" x2="770" y2="522"
        class="flow-line flow-service" marker-end="url(#arrow)"/>
  <line x1="740" y1="600" x2="770" y2="578"
        class="flow-line flow-service" marker-end="url(#arrow)"/>

  <!-- CI/CD (bottom-left, external) -->
  <g>
    <rect x="40" y="460" width="240" height="130" rx="14"
          fill="#020617" stroke="#4B5563" stroke-width="2"/>
    <text x="60" y="492" fill="#F9FAFB" font-size="14" font-weight="500">
      CI / CD &amp; Platform Ops
    </text>
    <text x="60" y="514" fill="#9CA3AF" font-size="11">
      GitHub Actions · GitLab CI · Argo CD
    </text>
    <text x="60" y="534" fill="#9CA3AF" font-size="11">
      Terraform · Helm · Kustomize
    </text>
  </g>

  <!-- CI/CD -> Control Plane (dashed) -->
  <line x1="280" y1="525" x2="320" y2="405"
        stroke="#6B7280" stroke-width="2" stroke-dasharray="6 6" marker-end="url(#arrow)"/>

  <!-- OBSERVABILITY BLOCK (inside cluster, bottom-right-ish) -->
  <g class="obs-pulse">
    <rect x="610" y="410" width="250" height="80" rx="14"
          fill="#020617" stroke="#FCD34D" stroke-width="2"/>
    <text x="628" y="438" fill="#F9FAFB" font-size="14" font-weight="500">
      Observability Stack (in-cluster)
    </text>
    <text x="628" y="458" fill="#E5E7EB" font-size="11">
      Metrics · Logs · Traces · Dashboards
    </text>
  </g>

  <!-- Telemetry flows: Nodegroups -> In-cluster Observability -->
  <line x1="650" y1="500" x2="700" y2="490"
        class="flow-line flow-obs" marker-end="url(#arrow)"/>
  <line x1="650" y1="630" x2="700" y2="490"
        class="flow-line flow-obs" marker-end="url(#arrow)"/>

  <!-- Services -> In-cluster Observability -->
  <line x1="835" y1="545" x2="820" y2="490"
        class="flow-line flow-obs" marker-end="url(#arrow)"/>

  <!-- EXTERNAL OBSERVABILITY SAAS (far right) -->
  <g>
    <rect x="930" y="320" width="220" height="200" rx="18"
          fill="#020617" stroke="#FACC15" stroke-width="2.2"/>
    <text x="950" y="350" fill="#F9FAFB" font-size="15" font-weight="500">
      Observability / SIEM SaaS
    </text>
    <text x="950" y="372" fill="#E5E7EB" font-size="11">
      Datadog · Prometheus stack · Loki · Tempo
    </text>
    <text x="950" y="392" fill="#E5E7EB" font-size="11">
      OpenTelemetry collectors · Exporters
    </text>
    <text x="950" y="414" fill="#9CA3AF" font-size="11">
      Dashboards · Alerting · SLOs
    </text>
  </g>

  <!-- In-cluster Observability -> External SaaS -->
  <line x1="860" y1="450" x2="930" y2="430"
        class="flow-line flow-obs" marker-end="url(#arrow)"/>

</svg>
