<svg width="900" height="440" viewBox="0 0 900 440" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#020617"/>
      <stop offset="100%" stop-color="#020617"/>
    </linearGradient>

    <!-- Arrow marker -->
    <marker id="arrowHead" markerWidth="10" markerHeight="10" refX="5" refY="3" orient="auto">
      <path d="M0,0 L10,3 L0,6" fill="#38BDF8"/>
    </marker>

    <!-- Glow for ArgoCD -->
    <filter id="softGlow">
      <feGaussianBlur in="SourceGraphic" stdDeviation="4" result="blur"/>
      <feColorMatrix in="blur" type="matrix"
        values="0 0 0 0 0.0
                0 0 0 0 0.8
                0 0 0 0 1.0
                0 0 0 0.8 0"/>
    </filter>

    <!-- Animated stroke dash for flows -->
    <style><![CDATA[
      .flow-line {
        stroke: #38BDF8;
        stroke-width: 3;
        stroke-dasharray: 8 8;
        animation: dash-flow 2.5s linear infinite;
      }
      @keyframes dash-flow {
        to { stroke-dashoffset: -32; }
      }

      .target-fade {
        animation: targetPulse 3.5s ease-in-out infinite;
      }
      @keyframes targetPulse {
        0%   { opacity: 0.7; }
        50%  { opacity: 1.0; }
        100% { opacity: 0.7; }
      }

      .argo-pulse {
        animation: argoPulse 2.8s ease-in-out infinite;
      }
      @keyframes argoPulse {
        0%   { transform: scale(1);   transform-origin: 785px 160px; }
        50%  { transform: scale(1.06);transform-origin: 785px 160px; }
        100% { transform: scale(1);   transform-origin: 785px 160px; }
      }
    ]]></style>
  </defs>

  <!-- Background -->
  <rect width="900" height="440" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="30" y="50" fill="#E5E7EB" font-size="30" font-family="Inter, system-ui" font-weight="600">
    GITOPS WORKFLOW (ARGOCD)
  </text>

  <!-- Developer -->
  <rect x="30" y="120" width="180" height="80" rx="12"
        fill="#020617" stroke="#38BDF8" stroke-width="2"/>
  <text x="70" y="165" fill="#E5E7EB" font-size="18" font-family="Inter, system-ui">
    Developer
  </text>

  <!-- Dev → Git flow -->
  <line x1="210" y1="160" x2="330" y2="160"
        class="flow-line" marker-end="url(#arrowHead)"/>

  <!-- Git Repos -->
  <rect x="330" y="120" width="200" height="80" rx="12"
        fill="#020617" stroke="#22C55E" stroke-width="2"/>
  <text x="370" y="145" fill="#E5E7EB" font-size="16" font-family="Inter, system-ui">
    Git Repos
  </text>
  <text x="355" y="170" fill="#9CA3AF" font-size="12" font-family="Inter, system-ui">
    app-config, infra, policies
  </text>

  <!-- Git → ArgoCD flow -->
  <line x1="530" y1="160" x2="700" y2="160"
        class="flow-line" marker-end="url(#arrowHead)"/>

  <!-- ArgoCD -->
  <g class="argo-pulse">
    <rect x="700" y="120" width="170" height="80" rx="12"
          fill="#020617" stroke="#F97316" stroke-width="2" filter="url(#softGlow)"/>
    <text x="735" y="148" fill="#F9FAFB" font-size="18" font-family="Inter, system-ui">
      ArgoCD
    </text>
    <text x="720" y="170" fill="#F97316" font-size="12" font-family="Inter, system-ui">
      Reconcile • Drift Detect • Sync
    </text>
  </g>

  <!-- Target Cluster Box -->
  <rect x="330" y="240" width="540" height="140" rx="16"
        fill="#020617" stroke="#334155" stroke-width="2"/>
  <text x="350" y="270" fill="#E5E7EB" font-size="18" font-family="Inter, system-ui">
    Deployment Targets (Multi-cluster GitOps)
  </text>

  <!-- ArgoCD → Targets flow (fan-out) -->
  <line x1="785" y1="200" x2="435" y2="280"
        class="flow-line" marker-end="url(#arrowHead)"/>
  <line x1="785" y1="200" x2="605" y2="280"
        class="flow-line" marker-end="url(#arrowHead)"/>
  <line x1="785" y1="200" x2="775" y2="280"
        class="flow-line" marker-end="url(#arrowHead)"/>

  <!-- EKS -->
  <g class="target-fade">
    <rect x="360" y="300" width="150" height="60" rx="10"
          fill="#020617" stroke="#38BDF8" stroke-width="2"/>
    <text x="410" y="328" fill="#E5E7EB" font-size="15" font-family="Inter, system-ui" text-anchor="middle">
      EKS
    </text>
    <text x="435" y="347" fill="#9CA3AF" font-size="11" font-family="Inter, system-ui" text-anchor="end">
      prod / staging
    </text>
  </g>

  <!-- On-Prem K8s -->
  <g class="target-fade">
    <rect x="530" y="300" width="150" height="60" rx="10"
          fill="#020617" stroke="#A855F7" stroke-width="2"/>
    <text x="605" y="328" fill="#E5E7EB" font-size="15" font-family="Inter, system-ui" text-anchor="middle">
      On-Prem K8s
    </text>
    <text x="675" y="347" fill="#9CA3AF" font-size="11" font-family="Inter, system-ui" text-anchor="end">
      vSphere / Bare Metal
    </text>
  </g>

  <!-- K3s -->
  <g class="target-fade">
    <rect x="700" y="300" width="150" height="60" rx="10"
          fill="#020617" stroke="#22C55E" stroke-width="2"/>
    <text x="775" y="328" fill="#E5E7EB" font-size="15" font-family="Inter, system-ui" text-anchor="middle">
      K3s
    </text>
    <text x="840" y="347" fill="#9CA3AF" font-size="11" font-family="Inter, system-ui" text-anchor="end">
      Edge / Lab
    </text>
  </g>
</svg>
